import { Meta, Story, Canvas, Source, Controls, Markdown } from '@storybook/blocks'
import * as SideNavMenuStories from './SideNavMenu.stories'

<Meta of={SideNavMenuStories} />

# SideNavMenu

A vertical navigation menu component, to be placed in the sidebar of a page or application.

Renders a `<nav>` element with links and lists of links.

<Canvas of={SideNavMenuStories.Default} />

### Usage

**`<SideNavMenu>`** renders a (`<nav>`) element. Its direct children must be either **`<SideNavMenuSection>`** or **`<SideNavMenuDetailsSection>`**

**`<SideNavMenuLink>`** renders a (`<a>`) element by default.
It can render a **Next.js Link** if passed via the `as` prop. The `href` property is required

**`<SideNavMenuButton>`** renders a (`<button>`) element, used for calling an action. The `onClick` property is required

All links, buttons, or groups must be wrapped inside a **`<SideNavMenuSection>`** (`<ul>`)

Group options:

- **`<SideNavMenuGroup>`** (`<button>` to expand/hide) for nested links. Must be placed in a **`<SideNavMenuDetailsSection>`**

- **`<SideNavMenuDetailsSection>`** (`<details>` to expand/hide) for nested sections. Its children must be wrapped in **`<SideNavMenuDetailsSection>`**

<Source code={`
import {
  SideNavMenu,
  SideNavMenuLink,
  SideNavMenuGroup,
  SideNavMenuButton,
  SideNavMenuSection,
  SideNavMenuDetailsSection
} from '@acme/ui'

import Link from 'next/link' {/* if using Next Link */}
import { usePathname } from 'next/navigation' {/* pathname can be used to determine a current link */}
`} />

<Source code={`
<SideNavMenu ariaLabel="Main nav">  {/* optional - default is 'Main navigation' */}
  {/* SideNavMenuSection must have id and heading - for accessibility */}
  {/* heading visually hidden with srOnlyHeading */}
  <SideNavMenuSection id="first-section" heading="welcome" srOnlyHeading> 
    <SideNavMenuLink
      href="/" {/* href is required */}
      {/* optional props */}
      as={Link} {/* as Next Link component */}
      current={pathname === '/'} {/* boolean - pathname by next/navigation - prop is used for accessibility & styling */}
      icon={Home}
    >
      Home
    </SideNavMenuLink>
  </SideNavMenuSection>

{' '}
<SideNavMenuSection id="forms-section" heading="Form components">
	<SideNavMenuGroup title="Forms" icon={Circle}>
		<SideNavMenuLink href="/forms/form-demo" current={pathname === '/forms/form-demo'}>
			Form demo
		</SideNavMenuLink>
		{/* {...} */}
	</SideNavMenuGroup>
</SideNavMenuSection>

{' '}
<SideNavMenuDetailsSection title="Components">
	{' '}
	{/* details/summary wrapper */}
	<SideNavMenuSection id="buttons-section" heading="Buttons">
		<SideNavMenuLink href="/components/button" current={pathname === '/components/button'}>
			Button
		</SideNavMenuLink>
		<SideNavMenuLink
			href="/components/icon-button"
			current={pathname === '/components/icon-button'}
		>
			IconButton
		</SideNavMenuLink>
	</SideNavMenuSection>
	{/* {...} */}
</SideNavMenuDetailsSection>

  <SideNavMenuSection id="actions-section" heading="user actions" srOnlyHeading>
    {/* SideNavMenuButton takes an onClick action */}
    <SideNavMenuButton icon={LogOut} onClick={logoutAction}>
      Logout
    </SideNavMenuButton>
  </SideNavMenuSection>
</SideNavMenu>
`}/>

### Props notes

- `className` : additional classes can be applied to the SideNavMenu components

**`<SideNavMenu>`**

- `ariaLabel` : `string`, optional, the default aria-label is 'Main navigation'

---

**`<SideNavMenuSection>`**

- `id` : `string`, required
- `heading` : `string`, required
- `srOnlyHeading` : `boolean`, optional - makes the heading visually-hidden (Screen-reader only)

---

**`<SideNavMenuLink>`**

- `href` : `string`, required
- `as` : slot prop to pass in `NextLink` component, optional
- `current` : `boolean`, used for accessibility & styling, optional
- `icon` : slot prop for an Icon component, optional

---

**`<SideNavMenuGroup>`**

- `title` : `string`, required

---

**`<SideNavMenuButton>`**

- `onClick` : function
- `icon` : slot prop for an Icon component, optional

---

**`<SideNavMenuDetailsSection>`** is a summary/details element

- `title` : `string`, the summary label - required

---
